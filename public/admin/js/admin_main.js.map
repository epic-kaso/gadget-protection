{"version":3,"sources":["app.js","controllers.js","directives.js","filters.js","services.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9PA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin_main.js","sourcesContent":["/**\r\n * Created by Ak on 2/19/2015.\r\n */\r\nvar app = angular.module(\"AdminApp\",\r\n    [\r\n        'ui.select',\r\n        'ngSanitize',\r\n        'ngImgCrop',\r\n        'ui.bootstrap',\r\n        'ui.router',\r\n        'ngUpload',\r\n        'ngAnimate',\r\n        'ngResource',\r\n        'angular-loading-bar',\r\n        'adminApp.directives',\r\n        'adminApp.controllers',\r\n        'adminApp.services',\r\n        'ngCookies']);\r\n\r\napp.config(['$urlRouterProvider', '$stateProvider',\r\n    function ($urlRouterProvider, $stateProvider) {\r\n        $stateProvider.state('vendors',\r\n            {\r\n                url: '/vendors',\r\n                templateUrl: 'partials/vendors/dashboard.html',\r\n                resolve: {\r\n                    'active': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.active_nav = 'vendors';\r\n                    }],\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = false;\r\n                    }],\r\n                    'Vendors': ['VendorService', function (VendorService) {\r\n                        return VendorService.query({});\r\n                    }]\r\n                },\r\n                controller: ['$scope', 'VendorService', 'Vendors', function ($scope, VendorService, Vendors) {\r\n                    $scope.models = Vendors;\r\n\r\n                    $scope.addVendor = function (vendor, event) {\r\n                        VendorService.save(vendor,function(response){\r\n                            $scope.models.push(response);\r\n                        },function(){\r\n                            alert('Failed To Create');\r\n                        });\r\n                        event.preventDefault();\r\n                    };\r\n                    $scope.deleteItem = function (id,index) {\r\n                        VendorService.delete({id: id}, function (response) {\r\n                            $scope.models.splice(index,1);\r\n                        }, function (response) {\r\n                            alert(response);\r\n                        });\r\n                    }\r\n                }]\r\n            });\r\n\r\n        $stateProvider.state('gadgets',\r\n            {\r\n                url: '/gadgets',\r\n                templateUrl: 'partials/gadgets/dashboard.html',\r\n                resolve: {\r\n                    'active': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.active_nav = 'gadgets';\r\n                    }],\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = false;\r\n                    }],\r\n                    'GadgetCategories': ['GadgetCategoryService', function (GadgetCategoryService) {\r\n                        return GadgetCategoryService.query({});\r\n                    }]\r\n                },\r\n                controller: ['$scope', 'GadgetCategoryService', 'GadgetCategories',\r\n                    function ($scope, GadgetCategoryService, GadgetCategories) {\r\n                        $scope.models = GadgetCategories;\r\n\r\n                        $scope.addGadgetCategory = function (category, event) {\r\n                            GadgetCategoryService.save(category, function (response) {\r\n                                $scope.models.push(response);\r\n                            }, function () {\r\n                                alert('Failed To Create');\r\n                            });\r\n\r\n                            event.preventDefault();\r\n                        };\r\n\r\n                        $scope.deleteItem = function (id, index) {\r\n                            GadgetCategoryService.delete({id: id}, function (response) {\r\n                                $scope.models.splice(index, 1);\r\n                            }, function (response) {\r\n                                alert(response);\r\n                            });\r\n                        };\r\n                }]\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('advisers',\r\n            {\r\n                url: '/advisers',\r\n                abstract: true,\r\n                templateUrl: 'partials/advisers/dashboard.html',\r\n                controller: function () {\r\n                },\r\n                resolve: {\r\n                    'active': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.active_nav = 'advisers';\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('advisers.menu',\r\n            {\r\n                url: '/menu',\r\n                templateUrl: 'partials/advisers/menu.html',\r\n                controller: ['$scope', 'advisers', function ($scope, advisers) {\r\n                    $scope.advisers = advisers;\r\n                }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = false;\r\n                    }],\r\n                    'advisers': ['AdvisersServ', function (AdvisersServ) {\r\n                        return AdvisersServ.query({limit: 6});\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('advisers.list',\r\n            {\r\n                url: '/list',\r\n                templateUrl: 'partials/advisers/list.html',\r\n                controller: ['$scope', 'advisers', 'AdvisersServ', function ($scope, advisers, AdvisersServ) {\r\n                    $scope.advisers = advisers;\r\n\r\n                    $scope.deleteItem = function (id) {\r\n                        AdvisersServ.delete({id: id}, function (response) {\r\n                            location.reload();\r\n                        }, function (response) {\r\n                            alert(response);\r\n                        });\r\n                    }\r\n                }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }],\r\n                    'advisers': ['AdvisersServ', function (AdvisersServ) {\r\n                        return AdvisersServ.query();\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('advisers.add',\r\n            {\r\n                url: '/add',\r\n                templateUrl: 'partials/advisers/add/add.html',\r\n                controller: ['$scope', 'AdvisersServ', '$state', function ($scope, AdvisersServ, $state) {\r\n                    $scope.createAdviser = function (adviser) {\r\n                        AdvisersServ.save(adviser, function (adviser) {\r\n                            console.log(adviser);\r\n                            $state.go('advisers.list');\r\n                        }, function (error) {\r\n                            alert(\"Ensure values are all filled correctly\");\r\n                        });\r\n                    }\r\n                }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n        \r\n        $stateProvider.state('ticket',\r\n            {\r\n                url: '/ticket',\r\n                abstract: true,\r\n                templateUrl: 'partials/ticket/dashboard.html',\r\n                controller: function () {\r\n                },\r\n                resolve: {\r\n                    'active': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.active_nav = 'ticket';\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.menu',\r\n            {\r\n                url: '/menu',\r\n                templateUrl: 'partials/ticket/menu.html',\r\n                controller: ['$scope', 'Tickets','ShowSettings', function ($scope, Tickets,ShowSettings) {\r\n                    $scope.showSettings = ShowSettings;\r\n                    $scope.tickets = Tickets.data;\r\n                }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = false;\r\n                    }],\r\n                    'Tickets': ['TicketService', function (TicketService) {\r\n                        return TicketService.get({limit: 6});\r\n                    }],\r\n                    'ShowSettings':['CurrentUser',function(CurrentUser){\r\n                        return CurrentUser.get().role  != 'adviser';\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.list',\r\n            {\r\n                url: '/list',\r\n                templateUrl: 'partials/ticket/list.html',\r\n                controller: ['$scope', 'Tickets', 'TicketService', function ($scope, Tickets, TicketService) {\r\n                    $scope.tickets = Tickets;\r\n\r\n                    $scope.deleteItem = function (id) {\r\n                        TicketService.delete({id: id}, function (response) {\r\n                            location.reload();\r\n                        }, function (response) {\r\n                            alert(response);\r\n                        });\r\n                    }\r\n                }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }],\r\n                    'Tickets': ['TicketService', function (TicketService) {\r\n                        return TicketService.get({limit: 20});\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.import',\r\n            {\r\n                url: '/import',\r\n                templateUrl: 'partials/ticket/import.html',\r\n                controller: ['$scope', 'Tickets', 'TicketService', function ($scope, Tickets, TicketService) {\r\n                    $scope.tickets = Tickets;\r\n                    $scope.upload = {\r\n                        working: false,\r\n                        response: {},\r\n                        complete: false\r\n                    };\r\n\r\n                    $scope.uploadedExcelDocument = function(content,isComplete){\r\n                        console.log(content);\r\n                        $scope.upload.working = true;\r\n                        if(isComplete){\r\n                            console.log('is complete');\r\n                            $scope.upload.working = false;\r\n                            $scope.upload.complete = true;\r\n                            $scope.upload.response = JSON.parse(content);\r\n                        }else{\r\n                            $scope.upload.working = true;\r\n                            $scope.upload.complete = false;\r\n                            console.log('is incomplete');\r\n                        }\r\n                    };\r\n\r\n                    $scope.deleteItem = function (id) {\r\n                        TicketService.delete({id: id}, function (response) {\r\n                            location.reload();\r\n                        }, function (response) {\r\n                            alert(response);\r\n                        });\r\n                    }\r\n                }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }],\r\n                    'Tickets': ['TicketService', function (TicketService) {\r\n                        return TicketService.query();\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.config',\r\n            {\r\n                url: '/config',\r\n                templateUrl: 'partials/ticket/config.html',\r\n                controller: ['$scope', 'TicketConfigServ','GradingSystem','GradingSystemServ','ToastService',\r\n                    function ($scope, TicketConfigServ,GradingSystem,GradingSystemServ,ToastService) {\r\n                    $scope.columns = [];\r\n                    $scope.gradingSystem = GradingSystem;\r\n\r\n                    TicketConfigServ.query({},function(result){\r\n                        $scope.columns = result;\r\n                    });\r\n\r\n                    $scope.deleteItem = function (column) {\r\n                        TicketConfigServ.delete({id: 0,column_title: column}, function (response) {\r\n                            location.reload();\r\n                        }, function (response) {\r\n                            alert(response);\r\n                        });\r\n                    };\r\n\r\n                    $scope.createColumn = function (title) {\r\n                        TicketConfigServ.save({column_title: title}, function (response) {\r\n                            location.reload();\r\n                        }, function (response) {\r\n                            alert(response);\r\n                        });\r\n                    };\r\n\r\n                    $scope.updateGrade = function (grade) {\r\n                        grade.status = 'loading';\r\n                        //grade.status = 'failure';\r\n                        var res = GradingSystemServ.update({id: grade.id},grade).$promise;\r\n                        res.then(function(){\r\n                            grade.status = 'success';\r\n                            ToastService.success(grade.presentation + \" updated\");\r\n                        },function(){\r\n                            grade.status = 'failure';\r\n                            ToastService.error(grade.presentation + \" update failed\");\r\n                        });\r\n                    };\r\n\r\n                }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }],\r\n                    'GradingSystem': ['GradingSystemServ',function(GradingSystemServ){\r\n                        return GradingSystemServ.get({});\r\n                    }]\r\n\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.add',\r\n            {\r\n                url: '/add',\r\n                templateUrl: 'partials/ticket/add/base.html',\r\n                controller: 'NewTicketController',\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }],\r\n                    'GadgetCategories': ['GadgetCategoryService', function (GadgetCategoryService) {\r\n                        return GadgetCategoryService.query({});\r\n                    }],\r\n                    'Vendors': ['VendorService', function (VendorService) {\r\n                        return VendorService.query({});\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.add.stepOne',\r\n            {\r\n                url: '/step-one',\r\n                templateUrl: 'partials/ticket/add/step-one.html',\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.add.stepTwo',\r\n            {\r\n                url: '/step-two',\r\n                templateUrl: 'partials/ticket/add/step-two.html',\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.add.stepThree',\r\n            {\r\n                url: '/step-three',\r\n                templateUrl: 'partials/ticket/add/step-three.html',\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.add.stepFour',\r\n            {\r\n                url: '/step-three',\r\n                templateUrl: 'partials/ticket/add/step-four.html',\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.add.final',\r\n            {\r\n                url: '/final',\r\n                templateUrl: 'partials/ticket/add/final.html',\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.show',\r\n            {\r\n                url: '/show/{id}',\r\n                templateUrl: 'partials/ticket/show.html',\r\n                controller: ['$scope', '$stateParams', 'TicketService', '$state', 'Ticket', 'GadgetCategories', 'Vendors',\r\n                    function ($scope, $stateParams, TicketService, $state, Ticket, GadgetCategories, Vendors) {\r\n                        $scope.ticket = Ticket;\r\n                        $scope.editTicket = JSON.parse(JSON.stringify(Ticket));\r\n                        $scope.vendors = Vendors;\r\n                        $scope.gadget_categories = GadgetCategories;\r\n\r\n                        $scope.saveTicket = function (ticket) {\r\n                            angular.forEach($scope.gadget_categories, function (value, key) {\r\n                                if (value.id == ticket.gadget_category_id) {\r\n                                    ticket.gadget_category = value;\r\n                                }\r\n                            });\r\n\r\n                            angular.forEach($scope.vendors, function (value, key) {\r\n                                if (value.id == ticket.vendor_id) {\r\n                                    ticket.vendor = value;\r\n                                }\r\n                            });\r\n\r\n                            ticket = calculatePremium(ticket);\r\n\r\n                            TicketService.update({id: ticket.id}, ticket).$promise.then(function (response) {\r\n                                console.log(response);\r\n                                $scope.ticket = response;\r\n                                $scope.editMode = false;\r\n                            }, function (error) {\r\n                                console.log(error);\r\n                                alert('Failed to Update, try again');\r\n                            });\r\n                        };\r\n\r\n                        $scope.deleteItem = function (id) {\r\n                            TicketService.delete({id: id}, function (response) {\r\n                                $state.go('ticket.list');\r\n                            }, function (response) {\r\n                                alert(response);\r\n                            });\r\n                        };\r\n\r\n                        function calculatePremium(ticket) {\r\n                            console.log('Calculate Premium');\r\n                            console.log(ticket);\r\n                            var percentage = parseFloat(ticket.gadget_category.percentage) / 100;\r\n                            var price = parseFloat(ticket.device_price);\r\n                            var fixed = parseFloat(ticket.gadget_category.fixed);\r\n                            ticket.device_premium = Math.round((price * percentage) + fixed);\r\n\r\n                            return ticket;\r\n                        }\r\n                    }],\r\n                resolve: {\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }],\r\n                    'Ticket': ['TicketService', '$stateParams', function (TicketService, $stateParams) {\r\n                        return TicketService.get({id: $stateParams.id});\r\n                    }],\r\n                    'GadgetCategories': ['GadgetCategoryService', function (GadgetCategoryService) {\r\n                        return GadgetCategoryService.query({});\r\n                    }],\r\n                    'Vendors': ['VendorService', function (VendorService) {\r\n                        return VendorService.query({});\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('ticket.search',\r\n            {\r\n                url: '/search?q',\r\n                templateUrl: 'partials/ticket/search.html',\r\n                controller: ['$scope', 'result', '$stateParams', function ($scope, result, $stateParams) {\r\n                    console.log(result);\r\n                    $scope.result = result;\r\n                    $scope.search = $stateParams.q;\r\n                }],\r\n                resolve: {\r\n                    'result': ['$stateParams', 'TicketService', function ($stateParams, TicketService) {\r\n                        return TicketService.query({q: $stateParams.q});\r\n                    }],\r\n                    'hasHistory': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.hasHistory = true;\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n        $stateProvider.state('config',\r\n            {\r\n                url: '/config',\r\n                templateUrl: 'partials/config/form.html',\r\n                controller: function () {\r\n                },\r\n                resolve: {\r\n                    'active': ['$rootScope', function ($rootScope) {\r\n                        $rootScope.active_nav = 'config';\r\n                    }]\r\n                }\r\n            }\r\n        );\r\n\r\n\r\n        $urlRouterProvider.otherwise('/ticket/menu');\r\n    }]);\r\n\r\napp.factory('sessionInjector', ['$location', function ($location) {\r\n    return {\r\n        request: function (config) {\r\n            config.headers['X-Requested-With'] = 'XMLHttpRequest';\r\n            console.log('Header modified');\r\n            return config;\r\n        },\r\n        responseError: function (response) {\r\n            if (response.status == 401) {\r\n                location.href = '/auth/login';\r\n                return response;\r\n            }\r\n            return response;\r\n        },\r\n        response: function (response) {\r\n            if (response.status == 401) {\r\n                location.href = '/auth/login';\r\n                return response;\r\n            }\r\n            return response;\r\n        }\r\n    };\r\n}]);\r\n\r\napp.config(['$httpProvider', function ($httpProvider) {\r\n    $httpProvider.interceptors.push('sessionInjector');\r\n}]);\r\n\r\napp.run(['$http', '$rootScope', 'CSRF_TOKEN','$timeout',\r\n    function ($http, $rootScope, CSRF_TOKEN,$timeout) {\r\n        $rootScope.CSRF_TOKEN = CSRF_TOKEN;\r\n        $http.defaults.headers.common['csrf_token'] = CSRF_TOKEN;\r\n        $rootScope.toast  = { messages: [],show: false,type: 'info' };\r\n    }]);","/**\r\n * Created by Ak on 2/19/2015.\r\n */\r\nvar module = angular.module('adminApp.controllers', ['adminApp.services']);\r\n\r\nmodule.controller('NewTicketController', [\r\n    '$scope', 'GadgetCategories', '$state', '$stateParams', 'Vendors', 'TicketService',\r\n    function ($scope, GadgetCategories, $state, $stateParams, Vendors, TicketService) {\r\n        $scope.vendors = Vendors;\r\n        $scope.gadget_categories = GadgetCategories;\r\n\r\n        console.log($scope.gadget_categories);\r\n        console.log($scope.vendors);\r\n\r\n        $scope.activeStep = 'stepOne';\r\n        $scope.isCreatingTicket = true;\r\n        $scope.creationError = false;\r\n\r\n        $scope.ticket = {};\r\n\r\n        $scope.selected = {};\r\n        $scope.activeNextButton = false;\r\n\r\n        $scope.createTicket = function (ticket) {\r\n        };\r\n\r\n\r\n        $scope.nextStepOne = function () {\r\n            $scope.activeStep = 'stepOne';\r\n            $state.go('ticket.add.stepOne');\r\n        };\r\n\r\n        $scope.nextStepTwo = function (ticket) {\r\n            $scope.activeStep = 'stepTwo';\r\n            if (\r\n                angular.isDefined(ticket.device_price) &&\r\n                angular.isDefined(ticket.gadget_category)\r\n            ) {\r\n                $scope.ticket = calculatePremium(ticket);\r\n                $state.go('ticket.add.stepTwo');\r\n            } else {\r\n                alert('Enter Price & Select Gadget Category');\r\n            }\r\n        };\r\n\r\n        $scope.nextStepThree = function () {\r\n            $scope.activeStep = 'stepThree';\r\n            $state.go('ticket.add.stepThree');\r\n        };\r\n\r\n        $scope.nextStepFinal = function (ticket) {\r\n            if (\r\n                angular.isUndefined(ticket.device_price) ||\r\n                angular.isUndefined(ticket.device_receipt_id) ||\r\n                angular.isUndefined(ticket.vendor) ||\r\n                angular.isUndefined(ticket.gadget_category) ||\r\n                angular.isUndefined(ticket.device_model) ||\r\n                angular.isUndefined(ticket.device_make) ||\r\n                angular.isUndefined(ticket.device_premium)\r\n            ) {\r\n                $scope.ticket = ticket;\r\n                console.log(ticket);\r\n                $scope.nextStepOne();\r\n                return;\r\n            }\r\n\r\n            if (\r\n                angular.isUndefined(ticket.gpp_policy_number) ||\r\n                angular.isUndefined(ticket.phone_number)\r\n            ) {\r\n                $scope.ticket = ticket;\r\n                console.log(ticket);\r\n                $scope.nextStepThree();\r\n                return;\r\n            }\r\n\r\n\r\n            console.log(ticket);\r\n\r\n            ticket.gadget_category_id = ticket.gadget_category.id;\r\n            ticket.vendor_id = ticket.vendor.id;\r\n\r\n            TicketService.save(ticket, function (response) {\r\n                $scope.activeStep = 'stepFinal';\r\n                $state.go('ticket.add.final');\r\n            }, function (error) {\r\n                alert('Failed To Save Ticket, try again');\r\n            });\r\n        };\r\n\r\n        $scope.goHome = function () {\r\n            $state.go('ticket.list');\r\n        };\r\n\r\n\r\n        function calculatePremium(ticket) {\r\n            console.log('Calculate Premium');\r\n            console.log(ticket);\r\n            var percentage = parseFloat(ticket.gadget_category.percentage) / 100;\r\n            var price = parseFloat(ticket.device_price);\r\n            var fixed = parseFloat(ticket.gadget_category.fixed);\r\n            ticket.device_premium = Math.round((price * percentage) + fixed);\r\n\r\n            return ticket;\r\n        }\r\n    }]);","/**\r\n * Created by Ak on 2/19/2015.\r\n */\r\n\r\nvar app =  angular.module('adminApp.directives',[]);\r\n\r\napp.directive('backButton',function(){\r\n    return {\r\n        'restrict': 'EA',\r\n        'template': '<a class=\"btn base-resize search-btn back-btn\" href=\"\"><span class=\"fa fa-chevron-left\"></span></a>',\r\n        'link': function link(scope, element, attrs) {\r\n            element.bind('click',function(e){\r\n                window.history.back();\r\n                e.preventDefault();\r\n            })\r\n        }\r\n    }\r\n});\r\n\r\n\r\n\r\napp.directive('webCamera',function(ScriptCam){\r\n    return {\r\n        'restrict': 'EA',\r\n        'scope': {\r\n            imageSrc: '=',\r\n            imageEncoded: '=',\r\n            showCamera: '='\r\n        },\r\n        'template':\r\n            '<div style=\"width: 320px;height: 300px;margin-right: auto;margin-left: auto\">' +\r\n            '<div>' +\r\n                '<div>' +\r\n                    '<div id=\"webcamFrame\"><div id=\"webcam\"></div></div>' +\r\n                    '<div style=\"margin-bottom: 10px;text-align: center;\">' +\r\n                        '<button class=\"btn btn-default btn-capture\">Capture</button>' +\r\n                        '<button class=\"btn btn-default goto-cam\"><span class=\"fa fa-chevron-left\"></span></button>' +\r\n                        '<button class=\"btn btn-default goto-img\"><span class=\"fa fa-chevron-right\"></span></button>' +\r\n                        '<button class=\"btn btn-primary save-img\"><span class=\"fa fa-save\"></span></button>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</div>' +\r\n            '<div class=\"preview\">' +\r\n            '<img ng-src=\"{{ imageSrc }}\" class=\"img-responsive preview-img\" alt=\"\"/>' +\r\n            '</div>' +\r\n            '<div>' +\r\n            '</div></div>'\r\n        ,\r\n        'link': function link(scope, element, attrs) {\r\n            var webcam = element.find('#webcam');\r\n            var webcamFrame = element.find('#webcamFrame');\r\n            var previewImg = element.find('img.preview-img');\r\n            var gotoCameraBtn = element.find('.btn.goto-cam');\r\n            var gotoImgBtn = element.find('.btn.goto-img');\r\n            var saveImgBtn = element.find('.btn.save-img');\r\n            var captureImgBtn =  element.find('.btn-capture');\r\n\r\n            webcam.scriptcam({\r\n                path: ScriptCam.path,\r\n                showMicrophoneErrors:false,\r\n                onError:onError,\r\n                cornerColor:'eee',\r\n                uploadImage:ScriptCam.path+'upload.gif',\r\n                onPictureAsBase:captureImage\r\n            });\r\n\r\n            captureImgBtn.on('click',function(){\r\n                captureImage();\r\n            });\r\n\r\n            gotoCameraBtn.click(function(){\r\n                scope.showCamera = true;\r\n                scope.$apply();\r\n            });\r\n\r\n            gotoImgBtn.click(function(){\r\n                scope.showCamera = false;\r\n                scope.$apply();\r\n            });\r\n\r\n            scope.$watch('showCamera',function(newV,oldV){\r\n               if(newV == true){\r\n                   webcamFrame.show();\r\n                   previewImg.hide();\r\n\r\n                   captureImgBtn.show();\r\n                   if(!angular.isDefined(scope.imageSrc) && scope.imageSrc != ''){\r\n                       gotoImgBtn.show();\r\n                   }\r\n                   gotoCameraBtn.hide();\r\n                   saveImgBtn.hide();\r\n\r\n               }else{\r\n                   webcamFrame.hide();\r\n                   captureImgBtn.hide();\r\n\r\n                   previewImg.show();\r\n                   gotoImgBtn.hide();\r\n                   gotoCameraBtn.show();\r\n                   saveImgBtn.show();\r\n               }\r\n            });\r\n\r\n            function captureImage(){\r\n                scope.imageSrc = base64_toimage();\r\n                scope.imageEncoded = base64_tofield();\r\n                scope.showCamera = false;\r\n                scope.$apply();\r\n            }\r\n\r\n            function base64_tofield() {\r\n                return $.scriptcam.getFrameAsBase64();\r\n            }\r\n\r\n            function base64_toimage() {\r\n                return \"data:image/png;base64,\"+$.scriptcam.getFrameAsBase64();\r\n            }\r\n\r\n            function onError(errorId,errorMsg) {\r\n                element.find('btn-capture').attr( \"disabled\", true );\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\napp.directive('fileButton',function(){\r\n    return {\r\n        'restrict': 'EA',\r\n        'scope': {\r\n            'name': '@name',\r\n            'label': '@'\r\n        },\r\n        'template': '<div class=\"input-group\"><div class=\"input-group-btn\"><span class=\"btn btn-info btn-file\">Browse.. <input type=\"file\" name=\"{{ name }}\"/> </span></div><input class=\"form-control file-select-label\" value=\"{{ label }}\" placeholder=\"Select a file\" name=\"file-name\" type=\"text\"/></div>',\r\n        'link': function link(scope, element, attrs) {\r\n            var fileInput = element.find('.btn-file input[type=file]');\r\n            //var fileLabel = element.find('input[type=text].file-select-label');\r\n            element.find('.btn.btn-file').css({\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n                width: '70px',\r\n                height: '34px'\r\n            });\r\n\r\n            fileInput.css({\r\n                top: '0',\r\n                right: '0',\r\n                position: 'absolute',\r\n                'min-width': 'inherit',\r\n                'width': 'inherit',\r\n                'min-height': 'inherit',\r\n                'height': 'inherit',\r\n                'font-size': '100px',\r\n                'text-align': 'right',\r\n                'filter': 'alpha(opacity=0)',\r\n                'opacity': '0',\r\n                'outline': 'none',\r\n                'backgound': 'white',\r\n                'cursor': 'inherit',\r\n                'display': 'block'\r\n            });\r\n\r\n            fileInput.on('change',function(){\r\n                console.log(\"file input change event\");\r\n                var input = $(this),numFiles = input.get(0).files ? input.get(0).files.length : 1;\r\n                scope.label = input.val().replace(/\\\\/g,'/').replace(/.*\\//,'');\r\n                console.log(scope.label);\r\n                scope.$apply();\r\n            });\r\n        }\r\n    }\r\n});\r\n\r\n\r\napp.directive('toast',function($animate,$timeout){\r\n    return {\r\n        'restrict': 'EA',\r\n        'template': '<div class=\"toast alert alert-{{ type }} text-center\" ><ul><li ng-repeat=\"message in messages\"> {{ message }}</li></ul></div>',\r\n        scope: {\r\n            type: '=type',\r\n            messages: '=messages',\r\n            show: '=show'\r\n        },\r\n        'link': function link(scope, element, attrs) {\r\n            function showToast() {\r\n                //$animate.addClass(element,'toast-alert');\r\n                element.css({opacity: 1});\r\n                $timeout(hideToast,10000);\r\n            }\r\n\r\n            function hideToast() {\r\n                element.css({opacity: 0});\r\n                //$animate.removeClass(element,'toast-alert');\r\n            }\r\n            showToast();\r\n            scope.$watch(function() { return scope.show; },function(newV,oldV){\r\n                if(newV == true){\r\n                    showToast();\r\n                }else{\r\n                    hideToast();\r\n                }\r\n            })\r\n        }\r\n    }\r\n});\r\n\r\n\r\n\r\napp.directive('formItemUpdate',function($timeout){\r\n    return {\r\n        'restrict': 'A',\r\n        'scope': {\r\n            'status': '='\r\n        },\r\n        'link': function link(scope, element, attrs) {\r\n            function showLoadingTick() {\r\n                //element.remove('.loader-item');\r\n                element.find('.input-form-item')\r\n                    .html('<span class=\"loader-item\" style=\"margin-left: 20px\"><span class=\"fa fa-spin fa-spinner\"></span></span>');\r\n\r\n                $timeout(clear,3000);\r\n            }\r\n\r\n            function showErrorTick() {\r\n                //element.remove('.loader-item');\r\n                element.find('.input-form-item')\r\n                    .html('<span class=\"loader-item\" style=\"margin-left: 20px;color: red;\"><span class=\"fa fa-close\"></span></span>');\r\n\r\n                $timeout(clear,3000);\r\n            }\r\n\r\n            function showGreenTick() {\r\n               // element.remove('.loader-item');\r\n                element.find('.input-form-item')\r\n                    .html('<span class=\"loader-item\" style=\"margin-left: 20px;color: green;\"><span class=\"fa fa-check\"></span></span>')\r\n            }\r\n\r\n            function clear(){\r\n                element.find('.input-form-item')\r\n                    .html('');\r\n            }\r\n\r\n            scope.$watch('status',function(newV,oldV){\r\n                if(newV == 'success'){\r\n                    showGreenTick();\r\n                }else if(newV == 'failure'){\r\n                    showErrorTick();\r\n                }else if(newV == 'loading'){\r\n                    showLoadingTick();\r\n                }else{\r\n                    clear();\r\n                }\r\n            })\r\n        }\r\n    }\r\n});","/**\r\n * Created by Ak on 2/19/2015.\r\n */\r\n","\r\n\r\n/**\r\n * Created by Ak on 2/19/2015.\r\n */\r\n\r\nvar app =  angular.module('adminApp.services',[]);\r\n\r\napp.factory('TicketService', ['$resource', 'URLServ', function ($resource, URLServ) {\r\n    return $resource('/resources/ticket/:id', {id: '@id'}, {\r\n        'update': {method: 'PUT'}\r\n    });//URLServ.getResourceUrlFor(\"ticket\"));\r\n}]);\r\n\r\napp.factory('VendorService', ['$resource', 'URLServ', function ($resource, URLServ) {\r\n    return $resource('/resources/vendor/:id', {id: '@id'}, {\r\n        'update': {method: 'PUT'}\r\n    });//URLServ.getResourceUrlFor(\"ticket\"));\r\n}]);\r\n\r\napp.factory('AdvisersServ', ['$resource', 'URLServ', function ($resource, URLServ) {\r\n    return $resource('/resources/advisers/:id', {id: '@id'}, {\r\n        'update': {method: 'PUT'}\r\n    });//URLServ.getResourceUrlFor(\"ticket\"));\r\n}]);\r\n\r\napp.factory('GadgetCategoryService', ['$resource', 'URLServ', function ($resource, URLServ) {\r\n    return $resource('/resources/gadget-category/:id', {id: '@id'}, {\r\n        'update': {method: 'PUT'}\r\n    });//URLServ.getResourceUrlFor(\"ticket\"));\r\n}]);\r\n\r\n\r\napp.factory('MailServ', ['$resource', function ($resource) {\r\n    return $resource('/resources/mail', null);//URLServ.getResourceUrlFor(\"ticket\"));\r\n}]);\r\n\r\n\r\napp.factory('URLServ', ['$rootScope', function ($rootScope) {\r\n    return {\r\n        \"getResourceUrlFor\": function(name){\r\n            return $rootScope.data.resources[name];\r\n        }\r\n    }\r\n}]);\r\n\r\napp.factory('GadgetEvaluationReward', ['NetworksServ', '$cookieStore', function (NetworksServ, $cookieStore) {\r\n    var reward = {result: ''};\r\n\r\n    function getBaseLinePrice(device, size) {\r\n        var baseLinePrice = 0;\r\n\r\n        console.log('Device --reward');\r\n        console.log(device);\r\n        console.log(size);\r\n\r\n        if(device.base_line_prices.length == 1 ){\r\n            baseLinePrice = parseInt(device.base_line_prices[0].value);\r\n        }else {\r\n\r\n            angular.forEach(device.base_line_prices, function (v, k) {\r\n                if (v.size == size) {\r\n                    baseLinePrice = parseInt(v.value);\r\n                }\r\n            });\r\n        }\r\n\r\n        return baseLinePrice;\r\n    }\r\n\r\n    function calculatePriceFromGrade(device, grade, baseLinePrice) {\r\n        console.log(baseLinePrice);\r\n        console.log(device.brand.normal_condition);\r\n        console.log(device.brand);\r\n        console.log(grade);\r\n\r\n        switch (grade) {\r\n            case 'A':\r\n                return parseFloat(parseInt(device.brand.normal_condition) / 100.0) * baseLinePrice;\r\n            case 'B':\r\n                return parseFloat(parseInt(device.brand.scratched_condition) / 100.0) * baseLinePrice;\r\n            case 'C':\r\n                return parseFloat(parseInt(device.brand.bad_condition) / 100.0) * baseLinePrice;\r\n        }\r\n    }\r\n\r\n    return {\r\n        \"calculate\": function (model) {\r\n            reward.result = calculatePriceFromGrade(model, model.grade, getBaseLinePrice(model.device, model.size));\r\n            console.log(reward.result);\r\n            $cookieStore.put('last-reward', reward.result);\r\n            return reward.result;\r\n        },\r\n        \"getLastReward\": function () {\r\n            return $cookieStore.get('last-reward');\r\n        },\r\n        fetchAirtelBonus: function () {\r\n            var network = NetworksServ.get({q: 'airtel'});\r\n            return network;\r\n        }\r\n    }\r\n}]);\r\n\r\napp.factory('GradeDeviceServ', ['$rootScope', function ($rootScope) {\r\n\r\n    var threshold = {\r\n        'A': 8.1,\r\n        'B': 5.85\r\n    };\r\n\r\n    function generateGradePoint(device) {\r\n        var result = {gradePoint: 0};\r\n\r\n        angular.forEach(device, function (value, key) {\r\n            if (angular.isDefined(value.rating) && value.rating != '') {\r\n                console.log(value.rating+\" -- \"+value.weight);\r\n                this.gradePoint += parseInt(value.rating) * value.weight;\r\n                console.log(this.gradePoint);\r\n            }\r\n        }, result);\r\n\r\n        return result.gradePoint;\r\n    }\r\n\r\n    function generateGradeLetter(gradePoint) {\r\n        var value = parseFloat(gradePoint);\r\n\r\n        if (value >= threshold.A) {\r\n            return 'A';\r\n        } else if (value >= threshold.B) {\r\n            return 'B';\r\n        } else {\r\n            return 'C';\r\n        }\r\n    }\r\n\r\n    return {\r\n        \"getGrade\": function (device) {\r\n            var gradePoint = generateGradePoint(device);\r\n            return generateGradeLetter(gradePoint);\r\n        }\r\n    }\r\n}]);\r\n\r\napp.factory('PreloadTemplates', ['$templateCache', '$http','PRELOAD_UI_LIST', function ($templateCache, $http,PRELOAD_UI_LIST) {\r\n    var templates = PRELOAD_UI_LIST.get();\r\n    return {\r\n        run: function () {\r\n            templates.forEach(function (currentItem) {\r\n                $http.get(currentItem, {cache: $templateCache});\r\n            });\r\n        }\r\n    }\r\n}]);\r\n\r\napp.factory('ToastService', ['$rootScope', function ($rootScope) {\r\n\r\n    if(angular.isUndefined( $rootScope.toast)){\r\n        $rootScope.toast  = {messages: [],show: false,type: 'info'};\r\n    }\r\n\r\n    return {\r\n        error: function (message) {\r\n            $rootScope.toast  = {messages: [message],show: true,type: 'danger'};\r\n        },\r\n        info: function(message){\r\n            $rootScope.toast= {messages: [message],show: true,type: 'info'};\r\n        },\r\n        success: function(message){\r\n            $rootScope.toast= {messages: [message],show: true,type: 'success'};\r\n        }\r\n    }\r\n}]);"],"sourceRoot":"/source/"}